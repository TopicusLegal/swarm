machine:
  services:
    - docker

dependencies:
  override:
    - docker version
    - docker info
    - docker build -t="blacklabelops/swarm-jdk8" -f ./java-jdk-8-oracle/Dockerfile java-jdk-8-oracle/
    - docker build -t="blacklabelops/swarm-jdk7" -f ./java-jdk-7-oracle/Dockerfile java-jdk-7-oracle/
    - docker build -t="blacklabelops/swarm-jdk6" -f ./java-jdk-6-oracle/Dockerfile java-jdk-6-oracle/

test:
  override:
    - docker run blacklabelops/swarm-jdk7 java -version
    - docker run blacklabelops/swarm-jdk7 gradle -v
    - docker run blacklabelops/swarm-jdk7 mvn -version
    - docker run blacklabelops/swarm-jdk8 java -version
    - docker run blacklabelops/swarm-jdk8 gradle -v
    - docker run blacklabelops/swarm-jdk8 mvn -version
    - docker run blacklabelops/swarm-jdk6 java -version
    - docker run blacklabelops/swarm-jdk6 gradle -v
    - docker run blacklabelops/swarm-jdk6 mvn -version
